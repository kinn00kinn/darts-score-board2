# Darts Score Board 🎯

[![React](https://img.shields.io/badge/React-18-blue.svg)](https://reactjs.org/)
[![Vite](https://img.shields.io/badge/Vite-Latest-646CFF.svg)](https://vitejs.dev/)


## 📋 概要

Darts Score Boardは、イベント会場（文化祭など）で使用することを想定した、投影用ダーツスコアボードアプリケーションです。来場者のスコアを入力・表示するだけでなく、多彩な演出（ガチャ、祝福演出、効果音）で会場の雰囲気を盛り上げます。



<video controls src="README_src/result.mp4" title="Title"></video>

### 主な特徴
- 🎮 直感的なスコア入力・表示
- 🎰 スコアに応じた3段階のガチャ演出
- 👑 プレミアム/スタンダード機能
- 🏆 トップ3入賞時の祝福演出
- 🔊 効果音による体験強化

![alt text](/README_src/image-10.png)

## ✨ 最新アップデート

### プレミアム機能
- 豪華なスイッチUIでプレミアム/スタンダードを切り替え
- スイッチ操作時の視覚・聴覚フィードバック
- プレミアムユーザー向け特別動画

### ガチャシステム改善
- スコアとプレミアムステータスに基づく動的な動画選択
- 自動再生の堅牢な制御（アンミュート→ミュートフォールバック）
- ユーザーフレンドリーな音声コントロール

### UX改善
- 追加操作後の自動スタンダードリセット
- プレイヤー重複時のスコア上書き
- より分かりやすい順位表示

## 🎮 動作ルール

### ガチャ動画選定ロジック
#### 非プレミアムユーザー
| スコア範囲 | 表示動画 |
|------------|----------|
| < 90       | b.mp4    |
| 90-139     | a.mp4    |
| ≥ 140      | s.mp4    |

#### プレミアムユーザー
| スコア範囲 | 表示動画 |
|------------|----------|
| < 120      | a.mp4    |
| ≥ 120      | s.mp4    |

ガチャは「追加」ボタンで必ず表示され、トップ3入賞時には祝福演出（ファンファーレ付き）が自動的に表示されます。

## 🛠️ 技術スタック

- **フロントエンド**: React 18
- **ビルドツール**: Vite
- **言語**: JavaScript (JSX)
- **スタイリング**: CSS Modules
- **状態管理**: React Hooks
- **パッケージ管理**: npm

## 📁 プロジェクト構成

```
darts-score-board2/
├── src/
│   ├── components/       # Reactコンポーネント
│   ├── utils/           # ユーティリティ関数
│   ├── assets/
│   │   ├── videos/      # ガチャ動画
│   │   └── sounds/      # 効果音
│   ├── App.jsx          # メインアプリケーション
│   └── main.jsx         # エントリーポイント
├── public/              # 静的アセット
└── package.json         # 依存関係設定
```

### 重要なファイル配置
- 🎥 動画: `src/assets/videos/` (a.mp4, b.mp4, s.mp4)
- 🔊 効果音: `src/assets/sounds/` (score-add.mp3, premium.mp3, fanfare.mp3, etc.)

※カスタム動画を使用する場合は、`src/assets/videos/`にファイルを配置するか、`GachaModal`のimport文を変更してください。

## 🚀 開発環境セットアップ

### 前提条件
- Node.js (推奨: LTS)
- npm

### インストール
```powershell
# リポジトリのクローン
git clone https://github.com/kinn00kinn/darts-score-board2.git
cd darts-score-board2

# 依存関係のインストール
npm install
```

### 開発サーバー起動
```powershell
npm run dev
```
➜ http://localhost:5173 を開いてください

### Lint実行
```powershell
npm run lint
```

## 💫 主な操作方法

1. 📝 プレイヤー追加
   - 名前を入力
   - 必要に応じてプレミアムスイッチをON
   - 「追加」をクリックまたはEnter

2. 🎰 ガチャ演出
   - 追加後に自動再生
   - 音声がミュートの場合は「🔊 音を有効にする」をクリック

3. 🏆 祝福演出
   - トップ3入賞時に自動表示
   - ファンファーレと共に順位表示

## 🔧 トラブルシューティング

### 動画再生の問題
1. ブラウザのDevToolsでエラーを確認
   - 404: アセットパスを確認
   - CORS: ローカルファイルの制限を確認
   - 自動再生ポリシー: ユーザージェスチャー要件を確認

2. ファイル形式の確認
   - MP4 (H.264 + AAC)を推奨
   - .movファイルは要再エンコード

### 音声の問題
1. ブラウザ設定の確認
   - タブのミュート状態
   - サイトの音声許可設定

2. 再生制御の確認
   - 初回は自動的にミュート
   - 「音を有効にする」ボタンで解除可能

## 📈 将来の改善案

### 短期
- 🎥 ガチャ演出の追加バリエーション
- 🚀 メディアのプリロード最適化
- ⌨️ キーボード操作の完全対応

### 中長期
- 📱 PWA対応
- 🎨 カスタムテーマ
- 🌐 マルチプレイヤーモード

## 📚 関連ドキュメント

- 📋 [システム構成書](./システム構成.md)
- 📖 [操作手順](./操作手順.md)

## 🔄 変更履歴

### v1.1.0
- ✨ ガチャ演出システム
- 🎵 効果音システム
- 👑 プレミアム機能
- 🏆 祝福演出の実装

### v1.0.0
- 🎯 基本的なスコアボード機能
- 📊 リーダーボード実装
- ⚡ Undo/Reset機能


---

*詳細な設定や高度な使用方法については [`システム構成.md`](./システム構成.md) を参照してください。*


